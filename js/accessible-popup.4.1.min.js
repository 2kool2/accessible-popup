// Gif late-load with pause control - https://github.com/2kool2/GIF-pause
(function(g,e){function k(c,a){var b=new Image;a.a=a.src;a.b=c;b.addEventListener("load",function(){l(b,a);var c=a.parentElement,d=e.createElement("button");d.c=a;d.classList.add("btn-anim");d.classList.add("btn-anim-on");d.appendChild(h("icon-pause","Pause animation"));d.addEventListener("click",m,!1);c.appendChild(d)},!1);b.src=c}function m(c){var a=c.target,b=c.target.c;g.requestAnimationFrame(function(){b.src===b.a?(b.src=b.b,a.classList.toggle("btn-anim-on"),a.textContent="",a.appendChild(h("icon-pause","Pause animation"))):(b.src=b.a,a.classList.toggle("btn-anim-on"),a.textContent="",a.appendChild(h("icon-play","Play animation")))})}function l(c,a){g.requestAnimationFrame(function(){a.src=c.src})}function h(c,a){var b=e.createElementNS("http://www.w3.org/2000/svg","svg");b.setAttribute("class","svg-pausePlay");b.setAttribute("focusable","false");if(a){var f=e.createElementNS("http://www.w3.org/2000/svg","title");f.textContent=a;b.appendChild(f)}f=e.createElementNS("http://www.w3.org/2000/svg","use");f.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+c);b.appendChild(f);return b}g.addEventListener("load",function(){for(var c=e.querySelectorAll("[data-gif]"),a=c.length;a--;)k(c[a].getAttribute("data-gif"),c[a])},!1)})(window,document);
